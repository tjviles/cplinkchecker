"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const uuid_1 = require("uuid");
const forms_validation_1 = require("./forms-validation");
const generate_form_element_1 = __importDefault(require("./generate-form-element"));
function generatePageElement(formElementGenerationData) {
    if (!formElementGenerationData) {
        throw new Error('no page element generation data provided, please provide this data to generate a page element');
    }
    const formElement = {
        ...formElementGenerationData,
        type: 'page',
    };
    // element property: id
    if (typeof formElementGenerationData.id !== 'string') {
        formElement.id = (0, uuid_1.v4)();
    }
    // element property: label || default to: {type}
    if (typeof formElementGenerationData.label !== 'string') {
        formElement.label = formElement.type;
    }
    if (!Array.isArray(formElement.elements)) {
        formElement.elements = [(0, generate_form_element_1.default)({})];
    }
    const element = (0, forms_validation_1.validateWithPageElementSchema)(formElement);
    return element;
}
exports.default = generatePageElement;
//# sourceMappingURL=generate-page-element.js.map